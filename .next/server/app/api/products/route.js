"use strict";(()=>{var e={};e.id=684,e.ids=[684],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},4026:e=>{e.exports=require("string_decoder")},8061:e=>{e.exports=require("node:assert")},2761:e=>{e.exports=require("node:async_hooks")},2254:e=>{e.exports=require("node:buffer")},27:e=>{e.exports=require("node:console")},6005:e=>{e.exports=require("node:crypto")},5714:e=>{e.exports=require("node:diagnostics_channel")},604:e=>{e.exports=require("node:dns")},5673:e=>{e.exports=require("node:events")},8849:e=>{e.exports=require("node:http")},2725:e=>{e.exports=require("node:http2")},7503:e=>{e.exports=require("node:net")},8846:e=>{e.exports=require("node:perf_hooks")},5815:e=>{e.exports=require("node:querystring")},4492:e=>{e.exports=require("node:stream")},1764:e=>{e.exports=require("node:tls")},3020:e=>{e.exports=require("node:url")},7261:e=>{e.exports=require("node:util")},3746:e=>{e.exports=require("node:util/types")},4086:e=>{e.exports=require("node:worker_threads")},5628:e=>{e.exports=require("node:zlib")},3006:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>q,staticGenerationAsyncStorage:()=>x});var o={};t.r(o),t.d(o,{GET:()=>p,POST:()=>c});var s=t(9303),n=t(8716),i=t(3131),a=t(7070),u=t(4670);async function p(){let e=await (0,u.q)();return a.NextResponse.json(e)}async function c(e){try{let r=await e.json(),t=await (0,u.q)(),o={id:r.id||`p-${Date.now()}`,name:r.name||"Untitled",slug:r.slug||r.name?.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")||`product-${Date.now()}`,description:r.description||"",longDescription:r.longDescription,price:Number(r.price)||0,images:Array.isArray(r.images)?r.images:r.images?[r.images]:[],category:r.category||"Uncategorized",specifications:"object"==typeof r.specifications?r.specifications:{},featured:!!r.featured,createdAt:r.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};return t.some(e=>e.slug===o.slug)&&(o.slug=`${o.slug}-${Date.now()}`),t.push(o),await (0,u.J)(t),a.NextResponse.json(o)}catch(e){return a.NextResponse.json({error:"Invalid request"},{status:400})}}let d=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"C:\\codekillabackup\\AI_Website_Builder\\projects\\solar seller\\src\\app\\api\\products\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:x,serverHooks:q}=d,g="/api/products/route";function f(){return(0,i.patchFetch)({serverHooks:q,staticGenerationAsyncStorage:x})}},4670:(e,r,t)=>{t.d(r,{J:()=>l,q:()=>d});var o=t(2033),s=t(2048),n=t.n(s),i=t(5315),a=t.n(i);let u="products/data.json",p=a().join(process.cwd(),"src","data","products.json");function c(){try{let e=n().readFileSync(p,"utf-8");return JSON.parse(e)}catch{return[]}}async function d(){if(!process.env.BLOB_READ_WRITE_TOKEN)return c();try{let{blobs:e}=await (0,o.pb)({prefix:"products/"}),r=e.find(e=>e.pathname===u);if(!r?.url)return c();let t=await fetch(r.url);if(!t.ok)return c();let s=await t.json();return Array.isArray(s)?s:[]}catch{return c()}}async function l(e){let r=JSON.stringify(e,null,2);if(!process.env.BLOB_READ_WRITE_TOKEN){n().writeFileSync(p,r);return}await (0,o.gz)(u,r,{access:"public",addRandomSuffix:!1})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[276,33,972],()=>t(3006));module.exports=o})();