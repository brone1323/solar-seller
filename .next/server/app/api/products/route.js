"use strict";(()=>{var e={};e.id=684,e.ids=[684],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},3006:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>j,patchFetch:()=>w,requestAsyncStorage:()=>x,routeModule:()=>f,serverHooks:()=>h,staticGenerationAsyncStorage:()=>y});var s={};r.r(s),r.d(s,{GET:()=>g,POST:()=>m});var a=r(9303),o=r(8716),i=r(3131),n=r(7070),p=r(2048),u=r.n(p),c=r(5315);let d=r.n(c)().join(process.cwd(),"src","data","products.json");function l(){try{let e=u().readFileSync(d,"utf-8");return JSON.parse(e)}catch{return[]}}async function g(){let e=l();return n.NextResponse.json(e)}async function m(e){try{let t=await e.json(),r=l(),s={id:t.id||`p-${Date.now()}`,name:t.name||"Untitled",slug:t.slug||t.name?.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")||`product-${Date.now()}`,description:t.description||"",longDescription:t.longDescription,price:Number(t.price)||0,images:Array.isArray(t.images)?t.images:t.images?[t.images]:[],category:t.category||"Uncategorized",specifications:"object"==typeof t.specifications?t.specifications:{},featured:!!t.featured,createdAt:t.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};return r.some(e=>e.slug===s.slug)&&(s.slug=`${s.slug}-${Date.now()}`),r.push(s),u().writeFileSync(d,JSON.stringify(r,null,2)),n.NextResponse.json(s)}catch(e){return n.NextResponse.json({error:"Invalid request"},{status:400})}}let f=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"C:\\codekillabackup\\AI_Website_Builder\\projects\\solar seller\\src\\app\\api\\products\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:x,staticGenerationAsyncStorage:y,serverHooks:h}=f,j="/api/products/route";function w(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:y})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,972],()=>r(3006));module.exports=s})();