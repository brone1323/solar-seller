"use strict";(()=>{var e={};e.id=898,e.ids=[898],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},4026:e=>{e.exports=require("string_decoder")},8061:e=>{e.exports=require("node:assert")},2761:e=>{e.exports=require("node:async_hooks")},2254:e=>{e.exports=require("node:buffer")},27:e=>{e.exports=require("node:console")},6005:e=>{e.exports=require("node:crypto")},5714:e=>{e.exports=require("node:diagnostics_channel")},604:e=>{e.exports=require("node:dns")},5673:e=>{e.exports=require("node:events")},8849:e=>{e.exports=require("node:http")},2725:e=>{e.exports=require("node:http2")},7503:e=>{e.exports=require("node:net")},8846:e=>{e.exports=require("node:perf_hooks")},5815:e=>{e.exports=require("node:querystring")},4492:e=>{e.exports=require("node:stream")},1764:e=>{e.exports=require("node:tls")},3020:e=>{e.exports=require("node:url")},7261:e=>{e.exports=require("node:util")},3746:e=>{e.exports=require("node:util/types")},4086:e=>{e.exports=require("node:worker_threads")},5628:e=>{e.exports=require("node:zlib")},2647:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>w,requestAsyncStorage:()=>x,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>q});var o={};t.r(o),t.d(o,{DELETE:()=>c,GET:()=>p,PUT:()=>d});var s=t(9303),n=t(8716),i=t(3131),u=t(7070),a=t(4670);async function p(e,{params:r}){let{id:t}=await r,o=(await (0,a.q)()).find(e=>e.id===t||e.slug===t);return o?u.NextResponse.json(o):u.NextResponse.json({error:"Not found"},{status:404})}async function d(e,{params:r}){let{id:t}=await r,o=await e.json(),s=await (0,a.q)(),n=s.findIndex(e=>e.id===t||e.slug===t);if(-1===n)return u.NextResponse.json({error:"Not found"},{status:404});let i={...s[n],...o,id:s[n].id,updatedAt:new Date().toISOString()};return s[n]=i,await (0,a.J)(s),u.NextResponse.json(i)}async function c(e,{params:r}){let{id:t}=await r,o=await (0,a.q)(),s=o.filter(e=>e.id!==t&&e.slug!==t);return s.length===o.length?u.NextResponse.json({error:"Not found"},{status:404}):(await (0,a.J)(s),u.NextResponse.json({success:!0}))}let l=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/products/[id]/route",pathname:"/api/products/[id]",filename:"route",bundlePath:"app/api/products/[id]/route"},resolvedPagePath:"C:\\codekillabackup\\AI_Website_Builder\\projects\\solar seller\\src\\app\\api\\products\\[id]\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:x,staticGenerationAsyncStorage:q,serverHooks:f}=l,h="/api/products/[id]/route";function w(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:q})}},4670:(e,r,t)=>{t.d(r,{J:()=>l,q:()=>c});var o=t(2033),s=t(2048),n=t.n(s),i=t(5315),u=t.n(i);let a="products/data.json",p=u().join(process.cwd(),"src","data","products.json");function d(){try{let e=n().readFileSync(p,"utf-8");return JSON.parse(e)}catch{return[]}}async function c(){if(!process.env.BLOB_READ_WRITE_TOKEN)return d();try{let{blobs:e}=await (0,o.pb)({prefix:"products/"}),r=e.find(e=>e.pathname===a);if(!r?.url)return d();let t=await fetch(r.url);if(!t.ok)return d();let s=await t.json();return Array.isArray(s)?s:[]}catch{return d()}}async function l(e){let r=JSON.stringify(e,null,2);if(!process.env.BLOB_READ_WRITE_TOKEN){n().writeFileSync(p,r);return}await (0,o.gz)(a,r,{access:"public",addRandomSuffix:!1})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[276,33,972],()=>t(2647));module.exports=o})();