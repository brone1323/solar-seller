(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{7760:function(e,t,r){Promise.resolve().then(r.bind(r,9048))},6275:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},3145:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(8461),n=r.n(a)},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(2972),n=r.n(a)},8461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return i}});let a=r(7043),n=r(5346),o=r(5878),s=a._(r(5084));function i(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=o.Image},9048:function(e,t,r){"use strict";r.d(t,{ProductCard:function(){return l}});var a=r(7437),n=r(7648),o=r(3145),s=r(6275),i=r(6059);function l(e){var t;let{product:r}=e,{addToCart:l}=(0,i.j)();return(0,a.jsxs)("div",{className:"group glass rounded-2xl overflow-hidden hover:border-solar-sky/50 transition-all duration-300 hover:shadow-xl hover:shadow-solar-sky/10",children:[(0,a.jsx)(n.default,{href:"/products/".concat(r.slug),className:"block",children:(0,a.jsxs)("div",{className:"relative aspect-square bg-solar-deep/50 overflow-hidden",children:[(0,a.jsx)(o.default,{src:r.images[0]||"/placeholder.svg",alt:r.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-500",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),r.featured&&(0,a.jsx)("span",{className:"absolute top-3 left-3 px-2 py-1 rounded-md bg-solar-leaf text-xs font-bold",children:"Featured"})]})}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("span",{className:"text-solar-sky text-sm font-medium",children:r.category}),(0,a.jsx)(n.default,{href:"/products/".concat(r.slug),children:(0,a.jsx)("h3",{className:"font-display font-semibold text-lg mt-1 group-hover:text-solar-sky transition-colors line-clamp-2",children:r.name})}),(0,a.jsx)("p",{className:"text-slate-400 text-sm mt-2 line-clamp-2",children:r.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsx)("span",{className:"font-display font-bold text-xl text-solar-leaf",children:(t=r.price,new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(t/100))}),(0,a.jsxs)("button",{onClick:e=>{e.preventDefault(),l(r)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-solar-sky to-solar-leaf hover:opacity-90 transition-opacity font-medium",children:[(0,a.jsx)(s.Z,{className:"w-4 h-4"}),"Add to Cart"]})]})]})]})}},6059:function(e,t,r){"use strict";r.d(t,{CartProvider:function(){return i},j:function(){return l}});var a=r(7437),n=r(2265);let o=(0,n.createContext)(void 0),s="solar-diy-cart";function i(e){let{children:t}=e,[r,i]=(0,n.useState)([]),[l,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{{let e=localStorage.getItem(s);if(e)try{let t=JSON.parse(e);i(t)}catch(e){console.error("Failed to parse cart",e)}c(!0)}},[]),(0,n.useEffect)(()=>{l&&localStorage.setItem(s,JSON.stringify(r))},[r,l]);let u=e=>{i(t=>t.filter(t=>t.product.id!==e))},d=r.reduce((e,t)=>e+t.quantity,0),f=r.reduce((e,t)=>e+t.product.price*t.quantity,0);return(0,a.jsx)(o.Provider,{value:{items:r,addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i(r=>r.find(t=>t.product.id===e.id)?r.map(r=>r.product.id===e.id?{...r,quantity:r.quantity+t}:r):[...r,{product:e,quantity:t}])},removeFromCart:u,updateQuantity:(e,t)=>{if(t<=0){u(e);return}i(r=>r.map(r=>r.product.id===e?{...r,quantity:t}:r))},clearCart:()=>i([]),totalItems:d,subtotal:f},children:t})}function l(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useCart must be used within CartProvider");return e}}},function(e){e.O(0,[972,753,971,117,744],function(){return e(e.s=7760)}),_N_E=e.O()}]);